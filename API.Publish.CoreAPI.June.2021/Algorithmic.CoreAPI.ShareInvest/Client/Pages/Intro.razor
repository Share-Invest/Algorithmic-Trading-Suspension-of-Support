@page "/"
@inherits IntroBase

@if (Initialize is DateTime[])
{
	<div>
		@foreach (var kv in IsClick)
		{
			if (kv.Value)
			{
				if (kv.Key == Initialize.Length - 1)
				{
					<p class="image">
						@if (Collection is Catalog.Dart.Theme[] && Pick is Catalog.Dart.Theme pick)
						{
							<a href="/tags?index=@pick.Index&name=@System.Web.HttpUtility.UrlEncode(pick.Name)&im=@System.Web.HttpUtility.UrlEncode(User)" target="_blank">
								<img src="/Images/@(pick.Index).png" alt="@pick.Name" />
							</a>
						}
						else
						{
							<img src="/Images/456.png" alt="K-뉴딜지수" />
						}
					</p>
				}
				else
				{
					if (kv.Key == Initialize.Length - 2 && Close)
						continue;

					if (Conditions is List<string>[] && Conditions[kv.Key] is List<string>)
					{
						if (Conditions[kv.Key].Count > 0)
						{
							<table class="table">
								<tbody>
									@foreach (var code in Conditions[kv.Key])
									{
										<tr>
											<td>@(code)</td>
										</tr>
									}
								</tbody>
							</table>
						}
						else
						{
							<p><em>Empty...</em></p>
						}
					}
					else
					{
						<p><em>Loading...</em></p>
					}
				}
			}
		}
	</div>
	<div role="navigation">
		<table role="presentation" class="page">
			<tbody>
				<tr>
					@foreach (var kv in IsClick)
					{
						<td class="click">
							<button class="button" title="@((DateTime.UnixEpoch.Equals(Initialize[kv.Key]) ? Initialize[1] : Initialize[kv.Key]).ToLongDateString())" disabled="@kv.Value" @onclick="(e => OnClick(kv.Key, e))">
								@(DateTime.UnixEpoch.Equals(Initialize[kv.Key]) ? "Tag" : (Initialize[kv.Key].Day).ToString("D2"))
							</button>
						</td>
					}
				</tr>
			</tbody>
		</table>
	</div>
}
else
{
	<p class="image">
		<img src="/Images/456.png" alt="K-뉴딜지수" />
	</p>
}